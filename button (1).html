<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dynamic Portfolio - John Doe</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* Reset & Theme Tokens */
    *{margin:0;padding:0;box-sizing:border-box}
    :root{
      --primary-color:#6366F1;
      --secondary-color:#3B82F6;
      --accent-color:#F97316;
      --text-primary:#1F2937;
      --text-secondary:#6B7280;
      --bg-primary:#FFFFFF;
      --bg-secondary:#F8FAFC;
      --border-color:#E5E7EB;
      --shadow:0 4px 6px -1px rgba(0,0,0,.1);
      --shadow-lg:0 10px 15px -3px rgba(0,0,0,.1);
      --gradient-primary:linear-gradient(135deg,var(--primary-color),var(--secondary-color));
      --gradient-accent:linear-gradient(135deg,var(--accent-color),#EC4899);
    }
    /* Dark Theme Overrides */
    body.dark{
      --bg-primary:#0f172a; /* slate-900 */
      --bg-secondary:#0b1222;
      --text-primary:#f8fafc;
      --text-secondary:#cbd5e1;
      --border-color:#334155;
    }

    body{font-family:'Poppins',sans-serif;line-height:1.6;color:var(--text-primary);background:var(--bg-primary);overflow-x:hidden}
    html{scroll-behavior:smooth}

    .container{max-width:1200px;margin:0 auto;padding:0 2rem}

    /* Particle BG */
    #particles{position:fixed;inset:0;z-index:-1;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%)}
    .particle{position:absolute;width:4px;height:4px;background:rgba(255,255,255,.3);border-radius:50%;animation:float 6s ease-in-out infinite}
    @keyframes float{
      0%,100%{transform:translateY(0) rotate(0)}
      33%{transform:translateY(-30px) rotate(120deg)}
      66%{transform:translateY(30px) rotate(240deg)}
    }

    /* Navbar */
    .navbar{position:fixed;left:0;right:0;top:0;background:rgba(255,255,255,.95);backdrop-filter:blur(10px);box-shadow:var(--shadow);z-index:1000;transition:.3s}
    body.dark .navbar{background:rgba(15,23,42,.85)}
    .navbar.scrolled{background:rgba(255,255,255,.98);box-shadow:var(--shadow-lg)}
    body.dark .navbar.scrolled{background:rgba(15,23,42,.95)}
    .nav-container{max-width:1200px;margin:0 auto;padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center}
    .nav-logo .logo-text{font-size:1.5rem;font-weight:700;background:var(--gradient-primary);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
    .nav-menu{display:flex;list-style:none;gap:2rem}
    .nav-link{text-decoration:none;color:var(--text-primary);font-weight:500;transition:.3s;position:relative}
    .nav-link:hover,.nav-link.active{color:var(--primary-color)}
    .nav-link::after{content:'';position:absolute;bottom:-5px;left:0;width:0;height:2px;background:var(--gradient-primary);transition:width .3s}
    .nav-link:hover::after,.nav-link.active::after{width:100%}
    .nav-actions{display:flex;align-items:center;gap:.75rem}
    .hamburger{display:none;flex-direction:column;cursor:pointer}
    .bar{width:25px;height:3px;background:var(--text-primary);margin:3px 0;transition:.3s}

    /* Buttons */
    .btn{display:inline-block;padding:12px 30px;border-radius:50px;text-decoration:none;font-weight:600;transition:.3s;border:2px solid transparent}
    .btn-primary{background:var(--gradient-accent);color:#fff}
    .btn-primary:hover{transform:translateY(-2px);box-shadow:0 10px 20px rgba(249,115,22,.3)}
    .btn-secondary{background:transparent;color:var(--text-primary);border-color:var(--text-primary)}
    body.dark .btn-secondary{color:#fff;border-color:#fff}
    .btn-secondary:hover{background:var(--text-primary);color:#fff}
    body.dark .btn-secondary:hover{background:#fff;color:#111827}

    /* Theme toggle small button */
    #theme-toggle{padding:.5rem .75rem;border-radius:12px;border:1.5px solid var(--border-color);background:transparent;cursor:pointer;font-weight:600}

    /* Hero */
    .hero{min-height:100vh;display:flex;align-items:center;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;position:relative;overflow:hidden}
    .hero-content{max-width:1200px;margin:0 auto;padding:0 2rem;display:grid;grid-template-columns:1fr 1fr;gap:4rem;align-items:center}
    .hero-title{font-size:3.5rem;font-weight:700;margin-bottom:1rem;animation:fadeInUp 1s ease}
    .gradient-text{background:linear-gradient(45deg,#FFD700,#FFA500);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
    .hero-subtitle{font-size:1.5rem;margin-bottom:1rem;animation:fadeInUp 1s ease .2s both}
    .hero-description{font-size:1.1rem;opacity:.95;margin-bottom:2rem;animation:fadeInUp 1s ease .4s both}
    .hero-buttons{display:flex;gap:1rem;animation:fadeInUp 1s ease .6s both}
    .hero-image{position:relative;display:flex;justify-content:center;align-items:center}
    .floating-card{position:absolute;background:rgba(255,255,255,.12);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.25);border-radius:15px;padding:1rem 1.25rem;font-weight:700;animation:float 3s ease-in-out infinite}
    .card-1{top:0;left:0;animation-delay:0s}
    .card-2{top:0;right:0;animation-delay:.5s}
    .card-3{bottom:0;left:0;animation-delay:1s}
    .card-4{bottom:0;right:0;animation-delay:1.5s}
    .cursor{display:inline-block;animation:blink 1s infinite}
    @keyframes blink{0%,50%{opacity:1}51%,100%{opacity:0}}

    section{padding:5rem 0}
    .section-title{text-align:center;font-size:2.5rem;font-weight:700;margin-bottom:3rem;position:relative}
    .section-title::after{content:'';position:absolute;bottom:-10px;left:50%;transform:translateX(-50%);width:80px;height:4px;background:var(--gradient-primary);border-radius:2px}

    /* About */
    .about{background:var(--bg-secondary)}
    .about-content{display:grid;grid-template-columns:2fr 1fr;gap:4rem;align-items:center}
    .about-text p{margin-bottom:1.5rem;font-size:1.1rem;line-height:1.8;color:var(--text-secondary)}
    .stats{display:flex;gap:2rem;margin-top:2rem}
    .stat-item{text-align:center}
    .stat-number{display:block;font-size:2.5rem;font-weight:700;color:var(--primary-color)}
    .stat-label{font-size:.9rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:1px}
    .about-image{position:relative}
    .image-placeholder{width:100%;height:400px;border-radius:20px;overflow:hidden;box-shadow:var(--shadow-lg)}
    .image-placeholder img{width:100%;height:100%;object-fit:cover}

    /* Skills */
    .skills-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:2rem}
    .skill-item{background:var(--bg-primary);padding:2rem;border-radius:15px;text-align:center;box-shadow:var(--shadow);transition:.3s}
    .skill-item:hover{transform:translateY(-10px);box-shadow:var(--shadow-lg)}
    .skill-icon{font-size:3rem;margin-bottom:1rem}
    .skill-item h3{margin-bottom:1.5rem;color:var(--text-primary)}
    .skill-bar{background:#E5E7EB;height:8px;border-radius:4px;overflow:hidden;margin-bottom:.5rem}
    body.dark .skill-bar{background:#1f2a44}
    .skill-progress{height:100%;background:var(--gradient-primary);border-radius:4px;width:0%;transition:width 2s ease}
    .skill-percentage{font-weight:600;color:var(--primary-color)}

    /* Projects */
    .projects{background:var(--bg-secondary)}
    .projects-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:2rem}
    .project-card{background:var(--bg-primary);border-radius:15px;overflow:hidden;box-shadow:var(--shadow);transition:.3s;transform-style:preserve-3d}
    .project-card:hover{transform:translateY(-10px) rotateY(5deg);box-shadow:var(--shadow-lg)}
    .project-image{position:relative;height:200px;overflow:hidden}
    .project-image img{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}
    .project-card:hover .project-image img{transform:scale(1.1)}
    .project-overlay{position:absolute;inset:0;background:rgba(99,102,241,.9);display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s}
    .project-card:hover .project-overlay{opacity:1}
    .project-links{display:flex;gap:1rem}
    .project-link{color:#fff;text-decoration:none;padding:8px 16px;border:2px solid #fff;border-radius:25px;transition:.3s}
    .project-link:hover{background:#fff;color:var(--primary-color)}
    .project-info{padding:1.5rem}
    .project-info h3{margin-bottom:.5rem;color:var(--text-primary)}
    .project-info p{color:var(--text-secondary);margin-bottom:1rem;line-height:1.6}
    .project-tech{display:flex;flex-wrap:wrap;gap:.5rem}
    .tech-tag{background:var(--gradient-primary);color:#fff;padding:4px 12px;border-radius:15px;font-size:.8rem;font-weight:500}

    /* Contact */
    .contact-content{display:grid;grid-template-columns:1fr 1fr;gap:4rem;align-items:start}
    .contact-info h3{font-size:1.5rem;margin-bottom:1rem;color:var(--text-primary)}
    .contact-info p{color:var(--text-secondary);margin-bottom:2rem;line-height:1.6}
    .contact-item{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}
    .contact-icon{font-size:1.2rem}
    .contact-form{background:var(--bg-primary);padding:2rem;border-radius:15px;box-shadow:var(--shadow)}
    .form-group{margin-bottom:1.5rem}
    .form-group input,.form-group textarea{width:100%;padding:15px;border:2px solid var(--border-color);border-radius:10px;font-family:inherit;font-size:1rem;transition:border-color .3s}
    .form-group input:focus,.form-group textarea:focus{outline:none;border-color:var(--primary-color)}
    .contact-form .btn{width:100%;padding:15px;border:none;cursor:pointer}

    /* Footer */
    .footer{background:var(--text-primary);color:#fff;padding:2rem 0;text-align:center}
    .footer .container{display:flex;justify-content:space-between;align-items:center}
    .social-links{display:flex;gap:1rem}
    .social-link{color:#fff;text-decoration:none;transition:.3s}
    .social-link:hover{color:var(--primary-color)}

    /* Scroll progress */
    .scroll-progress{position:fixed;top:0;left:0;width:0%;height:4px;background:var(--gradient-primary);z-index:1001;transition:width .2s ease}

    /* Animations */
    @keyframes fadeInUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
    .fade-in{opacity:0;transform:translateY(30px);transition:all .8s ease}
    .fade-in.visible{opacity:1;transform:translateY(0)}

    /* Responsive */
    @media (max-width: 1024px){
      .hero-title{font-size:3rem}
    }
    @media (max-width: 768px){
      .hamburger{display:flex}
      .nav-menu{position:fixed;top:70px;left:-100%;width:100%;height:calc(100vh - 70px);background:rgba(255,255,255,.95);backdrop-filter:blur(10px);flex-direction:column;justify-content:flex-start;align-items:center;padding-top:2rem;transition:left .3s}
      body.dark .nav-menu{background:rgba(15,23,42,.95)}
      .nav-menu.active{left:0}
      .hero-content{grid-template-columns:1fr;text-align:center}
      .hero-title{font-size:2.5rem}
      .about-content,.contact-content{grid-template-columns:1fr}
      .stats{justify-content:center}
      .hero-buttons{flex-direction:column;align-items:center}
      .footer .container{flex-direction:column;gap:1rem}
    }
    @media (max-width: 480px){
      .container{padding:0 1rem}
      .hero-title{font-size:2rem}
      .section-title{font-size:2rem}
      .stats{flex-direction:column;gap:1rem}
    }
  </style>
</head>
<body>
  <!-- Particle Background -->
  <div id="particles" aria-hidden="true"></div>

  <!-- Navbar -->
  <nav class="navbar" id="navbar">
    <div class="nav-container">
      <div class="nav-logo">
        <span class="logo-text">Portfolio</span>
      </div>
      <ul class="nav-menu" id="nav-menu" role="menubar" aria-label="Primary Navigation">
        <li class="nav-item"><a href="#home" class="nav-link active" data-section="home">Home</a></li>
        <li class="nav-item"><a href="#about" class="nav-link" data-section="about">About</a></li>
        <li class="nav-item"><a href="#skills" class="nav-link" data-section="skills">Skills</a></li>
        <li class="nav-item"><a href="#projects" class="nav-link" data-section="projects">Projects</a></li>
        <li class="nav-item"><a href="#contact" class="nav-link" data-section="contact">Contact</a></li>
      </ul>
      <div class="nav-actions">
        <button id="theme-toggle" class="btn btn-secondary" aria-label="Toggle theme">🌙</button>
        <div class="hamburger" id="hamburger" aria-label="Open menu" aria-expanded="false">
          <span class="bar"></span><span class="bar"></span><span class="bar"></span>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <section id="home" class="hero" aria-label="Hero">
    <div class="hero-content">
      <div>
        <h1 class="hero-title">Hi, I'm <span class="gradient-text">John Doe</span></h1>
        <p class="hero-subtitle">I'm a <span id="typed-text"></span><span class="cursor">|</span></p>
        <p class="hero-description">Passionate about creating amazing digital experiences with modern web technologies</p>
        <div class="hero-buttons">
          <a href="#projects" class="btn btn-primary">View My Work</a>
          <a href="#contact" class="btn btn-secondary">Get In Touch</a>
        </div>
      </div>
      <div class="hero-image" aria-hidden="true">
        <div class="floating-card card-1">HTML</div>
        <div class="floating-card card-2">CSS</div>
        <div class="floating-card card-3">JS</div>
        <div class="floating-card card-4">React</div>
      </div>
    </div>
  </section>

  <!-- About -->
  <section id="about" class="about">
    <div class="container">
      <h2 class="section-title">About Me</h2>
      <div class="about-content">
        <div class="about-text">
          <p>I'm a passionate web developer with over 3 years of experience creating beautiful, functional websites and applications. I love turning ideas into reality through clean, efficient code.</p>
          <p>My journey in web development started with curiosity and has evolved into a deep passion for creating user-centered digital solutions that make a real impact.</p>
          <div class="stats">
            <div class="stat-item">
              <span class="stat-number" data-target="50">0</span>
              <span class="stat-label">Projects</span>
            </div>
            <div class="stat-item">
              <span class="stat-number" data-target="3">0</span>
              <span class="stat-label">Years Experience</span>
            </div>
            <div class="stat-item">
              <span class="stat-number" data-target="30">0</span>
              <span class="stat-label">Happy Clients</span>
            </div>
          </div>
        </div>
        <div class="about-image">
          <div class="image-placeholder">
            <img src="https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=800" alt="Developer at work"/>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Skills -->
  <section id="skills" class="skills">
    <div class="container">
      <h2 class="section-title">My Skills</h2>
      <div class="skills-grid" id="skills-grid"><!-- populated by JS --></div>
    </div>
  </section>

  <!-- Projects -->
  <section id="projects" class="projects">
    <div class="container">
      <h2 class="section-title">My Projects</h2>
      <div class="projects-grid" id="projects-grid"><!-- populated by JS --></div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="contact">
    <div class="container">
      <h2 class="section-title">Get In Touch</h2>
      <div class="contact-content">
        <div class="contact-info">
          <h3>Let's work together!</h3>
          <p>I'm always excited to work on new projects and collaborate with amazing people.</p>
          <div class="contact-item"><span class="contact-icon">📧</span><span>john.doe@email.com</span></div>
          <div class="contact-item"><span class="contact-icon">📱</span><span>+1 (555) 123-4567</span></div>
          <div class="contact-item"><span class="contact-icon">📍</span><span>New York, NY</span></div>
        </div>
        <form class="contact-form" id="contact-form" novalidate>
          <div class="form-group">
            <input type="text" id="name" name="name" placeholder="Your Name" required>
          </div>
          <div class="form-group">
            <input type="email" id="email" name="email" placeholder="Your Email" required>
          </div>
          <div class="form-group">
            <textarea id="message" name="message" placeholder="Your Message" rows="5" required></textarea>
          </div>
          <button type="submit" class="btn btn-primary">Send Message</button>
        </form>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p>&copy; <span id="year"></span> John Doe. All rights reserved.</p>
      <div class="social-links">
        <a href="#" class="social-link">GitHub</a>
        <a href="#" class="social-link">LinkedIn</a>
        <a href="#" class="social-link">Twitter</a>
      </div>
    </div>
  </footer>

  <!-- Scroll Progress -->
  <div class="scroll-progress" id="scroll-progress" aria-hidden="true"></div>

  <!-- App Script (kept at end so DOM elements exist) -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      /* ----------------------- DOM Refs ----------------------- */
      const navbar = document.getElementById('navbar');
      const hamburger = document.getElementById('hamburger');
      const navMenu = document.getElementById('nav-menu');
      const scrollProgress = document.getElementById('scroll-progress');
      const typedText = document.getElementById('typed-text');
      const contactForm = document.getElementById('contact-form');
      const themeToggle = document.getElementById('theme-toggle');
      const skillsGrid = document.getElementById('skills-grid');
      const projectsGrid = document.getElementById('projects-grid');

      /* ----------------------- Data (Dynamic) ----------------------- */
      const textArray = ['Web Developer','UI/UX Designer','Frontend Developer','Creative Coder'];

      const skills = [
        { name:'Frontend Development', level:90, icon:'🎨' },
        { name:'Backend Development',  level:75, icon:'⚙️' },
        { name:'Mobile Development',   level:80, icon:'📱' },
        { name:'UI/UX Design',         level:85, icon:'🎯' }
      ];

      const projects = [
        {
          title:'E-commerce Website',
          desc:'A full-stack e-commerce solution with React and Node.js',
          img:'https://images.pexels.com/photos/196644/pexels-photo-196644.jpeg?auto=compress&cs=tinysrgb&w=800',
          tech:['React','Node.js','MongoDB'],
          live:'#', github:'#'
        },
        {
          title:'Task Management App',
          desc:'A productivity app with real-time collaboration features',
          img:'https://images.pexels.com/photos/574071/pexels-photo-574071.jpeg?auto=compress&cs=tinysrgb&w=800',
          tech:['Vue.js','Firebase','Tailwind'],
          live:'#', github:'#'
        },
        {
          title:'Weather Dashboard',
          desc:'Beautiful weather app with location-based forecasts',
          img:'https://images.pexels.com/photos/270348/pexels-photo-270348.jpeg?auto=compress&cs=tinysrgb&w=800',
          tech:['JavaScript','API','CSS3'],
          live:'#', github:'#'
        }
      ];

      /* ----------------------- Helpers ----------------------- */
      const qs = (sel,scope=document)=>scope.querySelector(sel);
      const qsa = (sel,scope=document)=>[...scope.querySelectorAll(sel)];

      /* ----------------------- Particles ----------------------- */
      (function createParticles(){
        const container = document.getElementById('particles');
        const count = 60;
        for(let i=0;i<count;i++){
          const p = document.createElement('div');
          p.className='particle';
          p.style.left = Math.random()*100+'%';
          p.style.top = Math.random()*100+'%';
          p.style.animationDelay = (Math.random()*6)+'s';
          p.style.animationDuration = (Math.random()*3+3)+'s';
          container.appendChild(p);
        }
      })();

      /* ----------------------- Typewriter ----------------------- */
      let textIndex=0, charIndex=0, isDeleting=false;
      (function typeWriter(){
        const current = textArray[textIndex];
        if(isDeleting){
          typedText.textContent = current.substring(0, charIndex-1);
          charIndex--;
        }else{
          typedText.textContent = current.substring(0, charIndex+1);
          charIndex++;
        }
        let speed = isDeleting ? 50 : 100;
        if(!isDeleting && charIndex === current.length){ speed = 1800; isDeleting = true; }
        else if(isDeleting && charIndex === 0){ isDeleting = false; textIndex = (textIndex+1)%textArray.length; speed = 500; }
        setTimeout(typeWriter, speed);
      })();

      /* ----------------------- Theme Toggle ----------------------- */
      const savedTheme = localStorage.getItem('theme');
      if(savedTheme === 'dark'){ document.body.classList.add('dark'); themeToggle.textContent='☀️'; }
      themeToggle.addEventListener('click', ()=>{
        document.body.classList.toggle('dark');
        const dark = document.body.classList.contains('dark');
        themeToggle.textContent = dark ? '☀️' : '🌙';
        localStorage.setItem('theme', dark ? 'dark' : 'light');
      });

      /* ----------------------- Mobile Nav ----------------------- */
      hamburger.addEventListener('click', ()=>{
        const active = navMenu.classList.toggle('active');
        hamburger.setAttribute('aria-expanded', active ? 'true' : 'false');
      });
      qsa('.nav-link').forEach(link=>{
        link.addEventListener('click', ()=>{
          navMenu.classList.remove('active');
          hamburger.setAttribute('aria-expanded','false');
        });
      });
      // Smooth scrolling offset for fixed navbar
      qsa('a[href^="#"]').forEach(a=>{
        a.addEventListener('click', e=>{
          const id = a.getAttribute('href').substring(1);
          const target = document.getElementById(id);
          if(target){
            e.preventDefault();
            const offset = target.offsetTop - 80;
            window.scrollTo({ top:offset, behavior:'smooth' });
          }
        });
      });

      /* ----------------------- Scroll Effects ----------------------- */
      function updateActiveNavLink(){
        const sections = qsa('section');
        const navLinks = qsa('.nav-link');
        let current = '';
        sections.forEach(sec=>{
          const top = sec.offsetTop - 100;
          const h = sec.offsetHeight;
          if(pageYOffset >= top && pageYOffset < top + h){ current = sec.id; }
        });
        navLinks.forEach(l=>{
          l.classList.toggle('active', l.getAttribute('data-section') === current);
        });
      }
      function onScroll(){
        const scrollTop = window.pageYOffset;
        const docHeight = document.documentElement.scrollHeight - window.innerHeight;
        const percent = (scrollTop / docHeight) * 100;
        scrollProgress.style.width = percent + '%';
        if(scrollTop > 50) navbar.classList.add('scrolled'); else navbar.classList.remove('scrolled');
        updateActiveNavLink();
      }
      let ticking=false;
      window.addEventListener('scroll', ()=>{
        if(!ticking){ requestAnimationFrame(()=>{ onScroll(); ticking=false; }); ticking=true; }
      });
      onScroll(); // initial

      // Parallax hero
      window.addEventListener('scroll', ()=>{
        const hero = qs('.hero');
        if(hero){ hero.style.transform = `translateY(${window.pageYOffset * 0.5}px)`; }
      }, { passive:true });

      /* ----------------------- Fade-in Observer ----------------------- */
      const fadeObserver = new IntersectionObserver((entries,obs)=>{
        entries.forEach(entry=>{
          if(entry.isIntersecting){ entry.target.classList.add('visible'); obs.unobserve(entry.target); }
        });
      },{ threshold:0.1, rootMargin:'0px 0px -50px 0px' });
      qsa('section').forEach(sec=>{ sec.classList.add('fade-in'); fadeObserver.observe(sec); });

      /* ----------------------- Stats Counter ----------------------- */
      const statObserver = new IntersectionObserver((entries,obs)=>{
        entries.forEach(entry=>{
          if(entry.isIntersecting){
            const el = entry.target;
            const target = parseInt(el.getAttribute('data-target'),10);
            let current = 0;
            const increment = Math.max(1, Math.floor(target/50));
            const timer = setInterval(()=>{
              current += increment;
              if(current >= target){ current = target; clearInterval(timer); }
              el.textContent = current;
            }, 40);
            obs.unobserve(el);
          }
        });
      },{ threshold:0.5 });
      qsa('.stat-number').forEach(s=>statObserver.observe(s));

      /* ----------------------- Render Skills (Dynamic) ----------------------- */
      function renderSkills(){
        skillsGrid.innerHTML = skills.map(s=>`
          <div class="skill-item">
            <div class="skill-icon">${s.icon}</div>
            <h3>${s.name}</h3>
            <div class="skill-bar">
              <div class="skill-progress" data-progress="${s.level}"></div>
            </div>
            <span class="skill-percentage">${s.level}%</span>
          </div>
        `).join('');
        initSkillBars();
      }
      function initSkillBars(){
        const bars = qsa('.skill-progress');
        const barObs = new IntersectionObserver((entries,obs)=>{
          entries.forEach(entry=>{
            if(entry.isIntersecting){
              const p = entry.target.getAttribute('data-progress');
              entry.target.style.width = p + '%';
              obs.unobserve(entry.target);
            }
          });
        },{ threshold:0.5 });
        bars.forEach(bar=>barObs.observe(bar));
      }

      /* ----------------------- Render Projects (Dynamic) ----------------------- */
      function renderProjects(){
        projectsGrid.innerHTML = projects.map(p=>`
          <div class="project-card">
            <div class="project-image">
              <img src="${p.img}" alt="${p.title}">
              <div class="project-overlay">
                <div class="project-links">
                  <a href="${p.live}" class="project-link" target="_blank" rel="noopener">Live Demo</a>
                  <a href="${p.github}" class="project-link" target="_blank" rel="noopener">GitHub</a>
                </div>
              </div>
            </div>
            <div class="project-info">
              <h3>${p.title}</h3>
              <p>${p.desc}</p>
              <div class="project-tech">
                ${p.tech.map(t=>`<span class="tech-tag">${t}</span>`).join('')}
              </div>
            </div>
          </div>
        `).join('');
        // Hover 3D nudge (extra snappy)
        qsa('.project-card').forEach(card=>{
          card.addEventListener('mouseenter', ()=>card.style.transform='translateY(-10px) rotateY(5deg)');
          card.addEventListener('mouseleave', ()=>card.style.transform='translateY(0) rotateY(0)');
        });
      }

      /* ----------------------- Contact Form ----------------------- */
      contactForm.addEventListener('submit', (e)=>{
        e.preventDefault();
        const data = new FormData(contactForm);
        const name = data.get('name')?.trim();
        const email = data.get('email')?.trim();
        const message = data.get('message')?.trim();

        if(!name || !email || !message) return notify('Please fill in all fields','error');
        if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) return notify('Please enter a valid email address','error');

        // Simulate submission success
        notify('Message sent successfully!','success');
        contactForm.reset();
      });

      function notify(msg,type){
        const old = document.querySelector('.notification'); if(old) old.remove();
        const n = document.createElement('div');
        n.className = `notification ${type}`;
        n.textContent = msg;
        n.style.cssText = `
          position:fixed;top:20px;right:20px;background:${type==='success'?'#10B981':'#EF4444'};
          color:#fff;padding:1rem 1.25rem;border-radius:12px;box-shadow:0 4px 6px rgba(0,0,0,.1);
          z-index:2000;transform:translateX(120%);transition:transform .3s ease;
        `;
        document.body.appendChild(n);
        requestAnimationFrame(()=>{ n.style.transform='translateX(0)'; });
        setTimeout(()=>{ n.style.transform='translateX(120%)'; setTimeout(()=>n.remove(),300); }, 3000);
      }

      /* ----------------------- Footer Year ----------------------- */
      document.getElementById('year').textContent = new Date().getFullYear();

      /* ----------------------- Init ----------------------- */
      renderSkills();
      renderProjects();
    });
  </script>
</body>
</html>